<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>5. Local storage</title>
		<script>
			window.addEventListener('load', () => {
				const availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

				if (typeof (Storage) === "undefined") {
					alert("Sorry, your browser does not support Web storage. Try again with a better one");
					return;
				}

				const addItemToCart = (item) => {
					localStorage.setItem(item, true);
				};

				const createStore = () => {
					const list = document.createElement("ul");

					for (const item of availableItems) {
						const listItem = document.createElement("li");
						listItem.innerText = item;
						listItem.onclick = () => addItemToCart(item);
						list.appendChild(listItem);
					}

					document.body.appendChild(list);
				};

				const displayCart = () => {
					const CartElements = localStorage.length;

					if (!CartElements) return;

					const newParagraph = document.createElement("p");
					newParagraph.innerText = `You previously had ${CartElements} items in your cart`;
					document.body.appendChild(newParagraph);
				};

				createStore();
				displayCart();
			})
		</script>
	</head>

	<body>
	</body>

</html>